<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cskaoyan.erp.dao.DeviceCheckDao">

    <select id="findAllDeviceCheck" resultType="deviceCheck">
          SELECT
                device_check_id deviceCheckId,
                dc.device_id deviceId,
                device_check_emp_id deviceCheckEmpId,
                device_check_date deviceCheckDate,
                device_check_result deviceCheckResult,
                device_check_fault_id deviceCheckFaultId,
                device_name AS deviceName,
                emp_name AS deviceCheckEmp
          FROM
                (device_check dc LEFT  JOIN device d ON dc.device_id = d.device_id) LEFT JOIN employee e ON dc.device_check_emp_id = e.emp_id
    </select>

      <insert id="insertDeviceCheck">
            INSERT INTO
            `device_check`
            VALUES (#{deviceCheck.deviceCheckId},
            #{deviceCheck.deviceId},
            #{deviceCheck.deviceCheckEmpId},
            #{deviceCheck.deviceCheckDate},
            #{deviceCheck.deviceCheckResult},
            #{deviceCheck.deviceCheckFaultId})
      </insert>
</mapper>